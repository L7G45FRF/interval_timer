# インターバルタイマー

トレーニング用のFlutterインターバルタイマーアプリです。

## 機能

### カウントダウンタイマー
- **詳細な時間設定**: 分と秒で個別に設定可能（例：2分30秒）
- 時間が0になると音と振動で通知
- 大型の開始ボタンで操作しやすい

### インターバルタイマー
- **トレーニング時間**: 分・秒で詳細設定
- **休憩時間**: 分・秒で詳細設定
- 指定したサイクル数だけ繰り返し実行（0で無限ループ）
- 各フェーズ（トレーニング/休憩）の切り替え時に通知
- 現在のフェーズとサイクル数をリアルタイム表示

### 通知機能
- **音効果**: ビープ音による通知
- **振動**: スマートフォンでの触覚フィードバック（ブル、ブル、ブル×3回）

### UI・操作性
- **大型開始ボタン**: 初期画面で目立つ、タップしやすいボタン
- **動的インターフェース**: タイマー状態に応じてボタンが変化
- **入力支援**: 空フィールドは自動的に「0」を表示
- **フォーカス管理**: 入力完了時の自動補完機能

### 基本操作
- **開始**: 大型ボタンでタイマーを開始
- **一時停止**: 実行中のタイマーを一時停止
- **再開**: 一時停止中のタイマーを再開
- **停止**: タイマーを停止してクリア

## インストールと実行

### 前提条件
- Flutter SDK
- Dart SDK

### セットアップ
```bash
# 依存関係のインストール
flutter pub get

# アプリの実行
flutter run
```

### テストの実行
```bash
# 全てのテストを実行
flutter test

# 静的解析
flutter analyze
```

### ビルド
```bash
# Android
flutter build apk

# iOS
flutter build ios

# Web
flutter build web
```

## プロジェクト構成

```
lib/
├── main.dart                    # アプリのエントリーポイント
├── models/
│   └── timer_state.dart         # タイマーの状態モデル
├── services/
│   ├── timer_service.dart       # タイマーのビジネスロジック
│   └── notification_service.dart # 音と振動の通知サービス
└── screens/
    └── timer_screen.dart        # メイン画面のUI
```

## 技術仕様

- **フレームワーク**: Flutter
- **状態管理**: Stream-based architecture
- **音声再生**: audioplayers package
- **振動制御**: vibration package
- **対応プラットフォーム**: Android, iOS, Web, Windows, macOS, Linux

## 使用方法

### 基本的な流れ
1. **タイマーの種類を選択**：カウントダウンまたはインターバル
2. **詳細な時間設定**：
   - **カウントダウン**：分と秒を個別に入力（例：5分30秒）
   - **インターバル**：
     - トレーニング時間を分・秒で入力（例：1分30秒）
     - 休憩時間を分・秒で入力（例：45秒）
     - サイクル数を入力（0で無限ループ）
3. **大型開始ボタンをタップ**してタイマーを開始
4. **状況に応じたコントロール**：
   - 実行中：一時停止・停止ボタンが表示
   - 一時停止中：再開・停止ボタンが表示

### 便利な機能
- **自動補完**: 入力フィールドを空のままにすると、フォーカスを外した時に「0」が自動入力
- **柔軟な設定**: 秒のみの設定（例：0分45秒）や長時間設定（例：120分0秒）も可能
- **視覚的フィードバック**: タイマー表示の色が状態とフェーズに応じて変化

タイマーが終了すると、音と振動（対応デバイス）で通知されます。インターバルタイマーでは各フェーズの切り替え時にも通知が行われます。
